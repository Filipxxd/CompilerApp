<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">{{ 'detailPage.title' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div *ngIf="!compilation; else compilationContent" class="ion-padding ion-text-center">
    <ion-spinner name="bubbles" />
    <p>{{ 'shared.loading' | translate }}</p>
  </div>

  <ng-template #compilationContent>
    <div class="header-row ion-padding">
      <ion-input
        [(ngModel)]="compilation!.title"
        class="input-title">
      </ion-input>

      <div class="button-wrapper">
        <ion-button (click)="onEdit()" fill="clear">
          <ion-icon slot="icon-only" name="create-outline" size="medium" />
        </ion-button>

        <ion-button (click)="onSave()" fill="clear">
          <ion-icon slot="icon-only" name="save-outline" size="medium" class="ion-margin-horizontal" />
        </ion-button>

        <ion-button (click)="onDelete()" fill="clear">
          <ion-icon slot="icon-only" name="close-circle-outline" size="medium" />
        </ion-button>
      </div>
    </div>

    <ion-item>
      <ion-label color="medium"><strong>{{ 'shared.language' | translate }}:</strong></ion-label>
      <ion-text>{{ compilation!.request!.language }}</ion-text>
    </ion-item>

    <ion-item>
      <ion-label color="medium"><strong>{{ 'shared.input' | translate }}:</strong></ion-label>
      <ion-text>{{ compilation!.request.input }}</ion-text>
    </ion-item>

    <ion-item class="custom-item">
      <div>
        <ion-label color="medium"><strong>{{ 'shared.code' | translate }}:</strong></ion-label>
        <div class="scrollable-container">
           <ion-text><pre><code>{{ compilation!.request.code }}</code></pre></ion-text>
        </div>
      </div>
    </ion-item>

    <ion-item class="custom-item">
      <div>
        <ion-label color="medium"><strong>{{ 'detailPage.output' | translate }}:</strong></ion-label>
        <div class="scrollable-container">
          <ion-text><pre>{{ compilation!.response.output }}</pre></ion-text>
        </div>
      </div>
    </ion-item>
  </ng-template>
</ion-content>